
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Issue_templates/">
      
      
        <link rel="next" href="../Processing_functions/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.5">
    
    
      
        <title>A new submission story. - MIP-CVs Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#a-new-submission-story" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MIP-CVs Documentation" class="md-header__button md-logo" aria-label="MIP-CVs Documentation" data-md-component="logo">
      
  <img src="../../assets/CMIP_Icon_CMYK_negative.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MIP-CVs Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              A new submission story.
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MIP-CVs Documentation" class="md-nav__button md-logo" aria-label="MIP-CVs Documentation" data-md-component="logo">
      
  <img src="../../assets/CMIP_Icon_CMYK_negative.svg" alt="logo">

    </a>
    MIP-CVs Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation Wiki on CVs and how to use them
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../repository_status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON-LD Status
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CMIP LD
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            CMIP LD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CMIP-LD/Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Explore the data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Explore the data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Explore_the_data/Network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Explore_the_data/The_different_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The different types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Explore_the_data/treemap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Treemap
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interact with the data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Interact with the data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/%20_Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
      Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/Command_line_interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command line interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/Direct_Interaction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Direct Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/PyLD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyLD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/cmipLD_web_viewer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmipLD web viewer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CMIP LD
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            CMIP LD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/CMIP-LD/CMIP-LD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMIP LD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/CMIP-LD/Downloading_all_Repos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloading all Repos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Interact_with_the_data/CMIP-LD/Framing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Framing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Repository Structure and automations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Repository Structure and automations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Issue_templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    A new submission story.
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    A new submission story.
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#issue-submission-form" class="md-nav__link">
    <span class="md-ellipsis">
      Issue Submission Form
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue Submission Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-form" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub form
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitHub form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-are-the-issue-forms" class="md-nav__link">
    <span class="md-ellipsis">
      Where are the issue forms?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Where are the issue forms?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Issue Labels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#markdown" class="md-nav__link">
    <span class="md-ellipsis">
      Markdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropdown" class="md-nav__link">
    <span class="md-ellipsis">
      Dropdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-web-form" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Web-Form
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-a-new-issue" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting a new issue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow-content" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow content
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workflow content">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    <span class="md-ellipsis">
      Triggers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permissions" class="md-nav__link">
    <span class="md-ellipsis">
      permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Jobs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reusable-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Reusable Actions.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cmipld-command-line-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      CMIPLD command line scripts.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issue-specific-script-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Issue specific script: Processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-summary-of-the-submission-process" class="md-nav__link">
    <span class="md-ellipsis">
      Quick summary of the submission process
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Processing_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Processing functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Github Actions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            Github Actions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Github_Actions/JSONLD_update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSONLD update
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    What is JSONLD?
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            What is JSONLD?
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../What_is_JSONLD%3F/Background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../What_is_JSONLD%3F/Defining_the_context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining the context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Example usage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Example usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../What_is_JSONLD%3F/Example_usage/Defining_the_context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining the context
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#issue-submission-form" class="md-nav__link">
    <span class="md-ellipsis">
      Issue Submission Form
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Issue Submission Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-form" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub form
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitHub form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#where-are-the-issue-forms" class="md-nav__link">
    <span class="md-ellipsis">
      Where are the issue forms?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Where are the issue forms?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Issue Labels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#markdown" class="md-nav__link">
    <span class="md-ellipsis">
      Markdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropdown" class="md-nav__link">
    <span class="md-ellipsis">
      Dropdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Inputs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-web-form" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Web-Form
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-a-new-issue" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting a new issue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow-content" class="md-nav__link">
    <span class="md-ellipsis">
      Workflow content
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workflow content">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    <span class="md-ellipsis">
      Triggers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permissions" class="md-nav__link">
    <span class="md-ellipsis">
      permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Jobs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reusable-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Reusable Actions.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cmipld-command-line-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      CMIPLD command line scripts.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#issue-specific-script-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Issue specific script: Processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-summary-of-the-submission-process" class="md-nav__link">
    <span class="md-ellipsis">
      Quick summary of the submission process
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="a-new-submission-story">A new submission story.</h1>
<p>In this section we outline the processing which happens in the background when a user supplies new information into the CVs. As a case study we shall explore what happens when we submit a new institution in the universal repository. </p>
<h2 id="issue-submission-form">Issue Submission Form</h2>
<p>The process starts with the submission of the relevant data. For this a user must find the relevant repository of the CVs provide all the required information to create such an entry. </p>
<p>There are two planned routes for entering the required data: 
    - Github issue form
    - Dynamic website form</p>
<h3 id="github-form">GitHub form</h3>
<p>Github issue templates can be used to guide input in the form of markdown files. More recently the option to use a yml file to create a form has been added. Using this we define an input form with relevant descriptions which once filled creates a formatted issue. </p>
<p>For more information on the syntax (click here)[https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/syntax-for-githubs-form-schema]</p>
<h4 id="where-are-the-issue-forms">Where are the issue forms?</h4>
<p>Issue forms reside in the <code>.workflows/ISSUE_TEMPLATE/</code> directory. Here we explore the structure of the (<code>add_institution.yml</code>)[https://github.com/WCRP-CMIP/WCRP-universe/blob/Institution_UCLA/.github/ISSUE_TEMPLATE/add_institution.yml] template. The structure of this is described below: </p>
<h5 id="issue-labels">Issue Labels</h5>
<p>Exploring the source code we can assign automatic labels for when the issue is created: 
<div class="highlight"><pre><span></span><code><span class="nt">labels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">alpha</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">institution</span>
</code></pre></div></p>
<h5 id="markdown">Markdown</h5>
<p>We also add a short markdown description 
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">markdown</span>
<span class="w">    </span><span class="nt">attributes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">####</span>
<span class="w">            </span><span class="no">## Adding a new Institution. </span>

<span class="w">            </span><span class="no">Please fill in the information below. </span>
</code></pre></div></p>
<h5 id="dropdown">Dropdown</h5>
<p>And a dropdown to define what kind of action is required by the processing script. (Note although it is possible to determine this using labels, there are cases where conflicting labels may be used to identify issues that span several areas of interest, and therefore this is a more explicit method to do this.)</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dropdown</span>
<span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">category</span>
<span class="w">    </span><span class="nt">attributes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Issue</span><span class="nv"> </span><span class="s">Type&quot;</span>
<span class="w">        </span><span class="c1">#   description: &quot;This is pre-set and cannot be changed.&quot;</span>
<span class="w">        </span><span class="nt">options</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;institution&quot;</span>
<span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">    </span><span class="nt">validations</span><span class="p">:</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<p>As this is a required value, it is also set to auto-populate with the first (0th) item. If we had an entry which could be added or modified, there may be multiple options within the issue type category selection. </p>
<h5 id="inputs">Inputs</h5>
<p>Finally we define a set of inputs giving them a label, description in markdown, example text and whether or not the input is required for form submission. Unfortunately no further validation is possible within the github forms, and has to be carried out within the action described below. </p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w">   </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">label</span>
<span class="w">    </span><span class="nt">attributes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Acronym</span>
<span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">A short acronym from which your institution can be identified with. </span>

<span class="w">            </span><span class="no">Note: This name must be unique across all organisations and cannot be changed once data is published with it.</span>
<span class="w">        </span><span class="nt">placeholder</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;e.g.,</span><span class="nv"> </span><span class="s">UoYork,</span><span class="nv"> </span><span class="s">MOHC,</span><span class="nv"> </span><span class="s">CMIP-IPO&#39;</span>
<span class="w">    </span><span class="nt">validations</span><span class="p">:</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">input</span>
</code></pre></div>
<h3 id="dynamic-web-form">Dynamic Web-Form</h3>
<p>Although not currently available, the future plans is to replicate the web form on the mipcvs.dev server. This will constitute a fastAPI server which can access the suitability of a field as it is being entered. This will mean that any errors are flagged during entry, and do not require a review, edit, test loop. The end result from the website will still be the creation of a new issue, which upon submission triggers the same post-processing functions. </p>
<h2 id="submitting-a-new-issue">Submitting a new issue</h2>
<p>To submit a new form we start by going to the Issues tab on github. </p>
<p><image></p>
<p>Here if our template yml file is correctly formatted we should be able to select if from the list of available templates. </p>
<p><image></p>
<p>From here we are able open the relevant form, completing any required fields. </p>
<p>On submission, the pre-allocated labels are appended. </p>
<h2 id="workflow">Workflow</h2>
<p>When an issue is created or changed, we want to be able to run a series of scripts. These are called workflows. A workflow is defined in <code>.github/workflows</code>, with the components of the issue specific workflow (new_issue.yml)[https://github.com/WCRP-CMIP/WCRP-universe/blob/Institution_UCLA/.github/workflows/new_issue.yml] being outlined below. </p>
<h3 id="workflow-content">Workflow content</h3>
<h4 id="triggers">Triggers</h4>
<p>The on section of a workflow outlines when an issue is run. Common triggers are on push, issue opened/closed, cron and dispatch. 
<div class="highlight"><pre><span></span><code><span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">issues</span><span class="p">:</span>
<span class="w">    </span><span class="nt">types</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">opened</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">edited</span><span class="p p-Indicator">]</span>
</code></pre></div></p>
<h4 id="permissions">permissions</h4>
<p>For workflows which need to interact with the repository, we need to define what the action is allowed to do. In this case, we can change the issue, repository content and create a pull request. 
<div class="highlight"><pre><span></span><code><span class="nt">permissions</span><span class="p">:</span>
<span class="w">  </span><span class="nt">issues</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class="w">  </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class="w">  </span><span class="nt">id-token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class="w">  </span><span class="nt">pull-requests</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
</code></pre></div></p>
<h4 id="jobs">Jobs</h4>
<p>The next section defines the scripts which run. 
Instead of duplicating the same processing scripts in every repository we make use of reusable actions. These are modular workflows that work like functions, and can be located in a separate repository. </p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run the parser on a new issue</span>
<span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">new-issue-action</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WCRP-CMIP/CMIP-LD/actions/new-issue@main</span>
</code></pre></div>
<h3 id="reusable-actions">Reusable Actions.</h3>
<p>The reusable action is located as part of the (CMIP-LD repository)[https://github.com/WCRP-CMIP/CMIP-LD/blob/main/actions/new-issue/action.yml]. </p>
<p>Here the action begins by installing the cmipld python library
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cmip-ld library</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">install-cmipld</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">uses</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WCRP-CMIP/CMIP-LD/actions/cmipld@main</span>
</code></pre></div>
We then checkout the repository, and run a set of python scripts. As the python scripts will need to access the issue submitter, its contents and id, we define this in the environmental variables. Finally we run the command line script <code>new_issue</code> as defined in the cmipld library.  </p>
<div class="highlight"><pre><span></span><code><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout repository</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run Python script</span>
<span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">run_python</span>
<span class="w">        </span><span class="nt">env</span><span class="p">:</span>
<span class="w">          </span><span class="nt">ISSUE_TITLE</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.event.issue.title }}</span>
<span class="w">          </span><span class="nt">ISSUE_BODY</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">              </span><span class="no">${{ github.event.issue.body }}</span>
<span class="w">          </span><span class="nt">ISSUE_SUBMITTER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.event.issue.user.login }}</span>
<span class="w">          </span><span class="nt">ISSUE_NUMBER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.event.issue.number }}</span>
<span class="w">          </span><span class="nt">GH_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.token }}</span>
<span class="w">          </span><span class="nt">GITHUB_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.token }}</span><span class="w"> </span><span class="c1"># We need this to update the issue</span>

<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">new_issue</span>
</code></pre></div>
<h2 id="cmipld-command-line-scripts">CMIPLD command line scripts.</h2>
<p>When installing a python package, we are able to define entry-points. These are python functions which can be run as command line scripts. For example the <code>new_issue</code> command executes the <code>main</code> function from (<code>cmipld.generate.new_issue</code>)[https://github.com/WCRP-CMIP/CMIP-LD/blob/main/cmipld/generate/new_issue.py]. </p>
<p>This starts by parsing the issue content: 
<div class="highlight"><pre><span></span><code><span class="n">issue</span> <span class="o">=</span> <span class="n">get_issue</span><span class="p">()</span>
<span class="n">parsed_issue</span> <span class="o">=</span> <span class="n">parse_issue_body</span><span class="p">(</span><span class="n">issue</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">])</span>
</code></pre></div></p>
<p>We then use the issue_type category field to determine what script to run, and load it
<div class="highlight"><pre><span></span><code><span class="n">issue_type</span> <span class="o">=</span> <span class="n">parsed_issue</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;issue_type&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">script_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}{</span><span class="n">issue_type</span><span class="si">}</span><span class="s2">.py&quot;</span>

<span class="n">spec</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">spec_from_file_location</span><span class="p">(</span><span class="n">issue_type</span><span class="p">,</span> <span class="n">script_path</span><span class="p">)</span>
<span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">module_from_spec</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
<span class="n">spec</span><span class="o">.</span><span class="n">loader</span><span class="o">.</span><span class="n">exec_module</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
</code></pre></div></p>
<p>Finally we execute the <code>run</code> function of the newly imported module and provide it with the issue content, and respective number. 
<div class="highlight"><pre><span></span><code><span class="n">module</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">parsed_issue</span><span class="p">,</span><span class="n">issue</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="issue-specific-script-processing">Issue specific script: Processing</h2>
<p>The scripts for each issue will be placed in the <code>.github/ISSUE_SCRIPT/</code> directory and will have the same name as the issue_type (see above). </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">update_ror</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span><span class="o">,</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cmipld.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">git</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cmipld.tests</span><span class="w"> </span><span class="kn">import</span> <span class="n">jsonld</span> <span class="k">as</span> <span class="n">tests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cmipld.tests.jsonld.organisation</span><span class="w"> </span><span class="kn">import</span> <span class="n">ror</span>

<span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;./src-data/organisation/&#39;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">similarity</span><span class="p">(</span><span class="n">name1</span><span class="p">,</span> <span class="n">name2</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">difflib</span><span class="w"> </span><span class="kn">import</span> <span class="n">SequenceMatcher</span>
    <span class="n">matcher</span> <span class="o">=</span> <span class="n">SequenceMatcher</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">name1</span><span class="p">,</span> <span class="n">name2</span><span class="p">)</span>
    <span class="n">similarity</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">ratio</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">return</span> <span class="n">similarity</span>

<span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="n">issue</span><span class="p">,</span> <span class="n">packet</span><span class="p">):</span>
    <span class="n">git</span><span class="o">.</span><span class="n">update_summary</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;## Issue content</span><span class="se">\n</span><span class="s2"> ```json</span><span class="se">\n</span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">issue</span><span class="p">,</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">```&quot;</span><span class="p">)</span>
    <span class="n">ror</span> <span class="o">=</span> <span class="n">issue</span><span class="p">[</span><span class="s1">&#39;ror&#39;</span><span class="p">]</span>
    <span class="n">acronym</span> <span class="o">=</span> <span class="n">issue</span><span class="p">[</span><span class="s1">&#39;acronym&#39;</span><span class="p">]</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">acronym</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">issue</span><span class="p">[</span><span class="s2">&quot;issue_type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">acronym</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">git</span><span class="o">.</span><span class="n">update_issue_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">git</span><span class="o">.</span><span class="n">newbranch</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">acronym_test</span> <span class="o">=</span> <span class="n">tests</span><span class="o">.</span><span class="n">field_test</span><span class="p">(</span><span class="n">tests</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">id_field</span><span class="p">)</span>
    <span class="n">ror_test</span> <span class="o">=</span> <span class="n">tests</span><span class="o">.</span><span class="n">field_test</span><span class="p">(</span><span class="n">tests</span><span class="o">.</span><span class="n">organisation</span><span class="o">.</span><span class="n">ror</span><span class="o">.</span><span class="n">ror_field</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ror</span> <span class="o">!=</span> <span class="s1">&#39;pending&#39;</span><span class="p">:</span>
        <span class="n">tests</span><span class="o">.</span><span class="n">run_checks</span><span class="p">(</span><span class="n">acronym_test</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">id</span><span class="p">})</span>
        <span class="n">tests</span><span class="o">.</span><span class="n">run_checks</span><span class="p">(</span><span class="n">ror_test</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;ror&quot;</span><span class="p">:</span> <span class="n">ror</span><span class="p">})</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">update_ror</span><span class="o">.</span><span class="n">get_institution</span><span class="p">(</span><span class="n">ror</span><span class="p">,</span> <span class="n">acronym</span><span class="p">)</span>
        <span class="n">ranking</span> <span class="o">=</span> <span class="n">similarity</span><span class="p">(</span><span class="n">issue</span><span class="p">[</span><span class="s1">&#39;full_name_of_the_organisation&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;long_label&#39;</span><span class="p">])</span>
        <span class="n">git</span><span class="o">.</span><span class="n">update_summary</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;## Similarity</span><span class="se">\n</span><span class="s2">The similarity between the full name (</span><span class="si">{</span><span class="n">issue</span><span class="p">[</span><span class="s1">&#39;full_name_of_the_organisation&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">) of the organisation and the long label (</span><span class="si">{</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;long_label&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">) is </span><span class="si">{</span><span class="n">ranking</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ranking</span> <span class="o">&lt;</span> <span class="mi">80</span><span class="p">:</span>
            <span class="n">git</span><span class="o">.</span><span class="n">update_issue</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: The similarity between the full name of the organisation and the long label is </span><span class="si">{</span><span class="n">ranking</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tests</span><span class="o">.</span><span class="n">run_checks</span><span class="p">(</span><span class="n">acronym_test</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">id</span><span class="p">})</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;wcrp:organisation&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;wcrp:</span><span class="si">{</span><span class="n">issue</span><span class="p">[</span><span class="s2">&quot;issue_type&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;universal&#39;</span><span class="p">],</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">acronym</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="n">git</span><span class="o">.</span><span class="n">update_summary</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;## Data content</span><span class="se">\n</span><span class="s2"> ```json</span><span class="se">\n</span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">```&quot;</span><span class="p">)</span>
    <span class="n">outfile</span> <span class="o">=</span> <span class="n">path</span> <span class="o">+</span> <span class="nb">id</span> <span class="o">+</span> <span class="s1">&#39;.json&#39;</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;submitter&#39;</span> <span class="ow">in</span> <span class="n">issue</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;OVERRIDE_AUTHOR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">issue</span><span class="p">[</span><span class="s1">&#39;submitter&#39;</span><span class="p">]</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;OVERRIDE_AUTHOR&#39;</span><span class="p">)</span>
    <span class="n">git</span><span class="o">.</span><span class="n">commit_one</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;New entry </span><span class="si">{</span><span class="n">acronym</span><span class="si">}</span><span class="s1"> in </span><span class="si">{</span><span class="n">issue</span><span class="p">[</span><span class="s2">&quot;issue_type&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1"> files.&#39;</span><span class="p">,</span> <span class="n">branch</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
    <span class="n">git</span><span class="o">.</span><span class="n">newpull</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">issue</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span> <span class="n">title</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;ISSUE_NUMBER&#39;</span><span class="p">])</span>
</code></pre></div>
<h2 id="quick-summary-of-the-submission-process">Quick summary of the submission process</h2>
<pre class="mermaid"><code>graph TB
  A[Run Script] --&gt; B[Update Summary: Issue Content]
  B --&gt; C[Update Issue Title and Create Branch]
  C --&gt; D[Run Checks]
  D --&gt; E[Update Summary: (Data Content)]
  E --&gt; F[Write Data to File]
  F --&gt; G[Commit Changes]
  G --&gt; H[Create Pull Request]</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        
<!-- Footer -->
<footer class="md-footer" height="20px">

    <!-- Link to previous and/or next page -->
    
      
        
        <nav
          class="md-footer__inner md-grid"
          aria-label="Footer"
          
        >
  
          <!-- Link to previous page -->
          
            
            <a
              href="../Issue_templates/"
              class="md-footer__link md-footer__link--prev"
              aria-label="Previous: Issue templates"
            >
              <div class="md-footer__button md-icon">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
              </div>
              <div class="md-footer__title">
                <span class="md-footer__direction">
                  Previous
                </span>
                <div class="md-ellipsis">
                  Issue templates
                </div>
              </div>
            </a>
          
  
          <!-- Link to next page -->
          
            
            <a
              href="../Processing_functions/"
              class="md-footer__link md-footer__link--next"
              aria-label="Next: Processing functions"
            >
              <div class="md-footer__title">
                <span class="md-footer__direction">
                  Next
                </span>
                <div class="md-ellipsis">
                  Processing functions
                </div>
              </div>
              <div class="md-footer__button md-icon">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
              </div>
            </a>
          
        </nav>
      
    


  </footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "search.suggest", "header.autohide"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="../../scripts/embed.js"></script>
      
    
  </body>
</html>